!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["mp-alipay-url-handler"]=e():t["mp-alipay-url-handler"]=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var r=n(1);function o(t){if(!t)return console.warn("string url is required!");var e=/^alipayFinanceApi\:/.test(t),n=-1!==t.indexOf("nbupdate=syncforce"),o=/^pages\:/.test(t),a=/^mp\:/.test(t);return e?function(t){var e=t.split(":")[1],n=Object(r.urlToObj)(e);my.ap.navigateToFinance(n)}(t):n?function(t){var e=Object(r.getQueryString)(t,"appId"),n=Object(r.getQueryString)(t,"query").substring(11);return new Promise((function(t,r){my.canIUse("navigateToMiniProgram")?my.navigateToMiniProgram({appId:e,extraData:{publicId:n},success:t,fail:r}):(my.showToast({content:"支付宝版本过低，请升级后重试",success:function(t){}}),r())}))}(t):o?function(t){t=t.split("pages:")[1],my.navigateTo({url:t,success:resolve,fail:reject})}(t):a?function(t){var e=t.split(":")[1],n=Object(r.urlToObj)(e);return n.appId?new Promise((function(t,e){my.canIUse("navigateToMiniProgram")?my.navigateToMiniProgram({appId:n.appId,extraData:n,success:t,fail:e}):(my.showToast({content:"支付宝版本过低，请升级后重试",success:function(t){}}),e())})):console.warn("appId is required!")}(t):function(t){if(/^pid\:/.test(t)){var e=t.split(":")[1];t="alipays://platformapi/startapp?appId=60000148&appClearTop=false&sms=YES&so=NO&ttb=auto&ttta=YES&url=/www/shop.html?pid=".concat(e)}return new Promise((function(e,n){my.canIUse("ap.navigateToAlipayPage")?my.ap.navigateToAlipayPage({path:t,success:e,fail:n}):(my.showToast({content:"支付宝版本过低，请升级后重试",success:function(t){}}),n())}))}(t)}},function(t,e,n){"use strict";function r(t,e){var n=document.createElement("script");n.type="text/javascript",void 0!==e&&(n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,e())}:n.onload=function(){e()}),n.src=t,document.body.appendChild(n)}function o(t,e){if(t){var n="";for(var r in e)n+="".concat(r,"=").concat(e[r],"&");return n=n.slice(0,n.length-1),t.split("?").length>1?t+="&".concat(n):(t.split("?").length=1)&&(t+="?".concat(n)),new Promise((function(e,n){var r;(r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==r.readyState){var t;try{t=JSON.parse(r.response)}catch(e){t=r.response}200==r.status?e(t):n(t)}},r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send()}))}}function a(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function i(t){for(var e=t.split("&"),n={},r=0;r<e.length;r++){var o=e[r].split("=");""!=o[0]&&(n[o[0]]=o[1])}return n}function u(t,e){var n=t.split("?")[1];if(n){var r=n.split("&");for(var o in r){var a=r[o].split("=");if(a[0]===e)return a[1]}}return null}n.r(e),n.d(e,"loadScript",(function(){return r})),n.d(e,"ajaxGet",(function(){return o})),n.d(e,"objToUrl",(function(){return a})),n.d(e,"urlToObj",(function(){return i})),n.d(e,"getQueryString",(function(){return u}))}]).default}));